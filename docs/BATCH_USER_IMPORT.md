# æ‰¹é‡æ·»åŠ ç”¨æˆ·æŒ‡å—

## ğŸ“‹ æ–¹æ³•1ï¼šä½¿ç”¨ CSV æ–‡ä»¶æ‰¹é‡å¯¼å…¥ï¼ˆæ¨èï¼‰

### æ­¥éª¤1ï¼šå‡†å¤‡ CSV æ–‡ä»¶

#### ä½¿ç”¨æ¨¡æ¿æ–‡ä»¶

å·²ä¸ºæ‚¨åˆ›å»ºæ¨¡æ¿ï¼š`/home/services/lms/data/users_template.csv`

#### CSV æ ¼å¼è¯´æ˜

```csv
email,first_name,last_name,password
zhangsan@linker.net,å¼ ä¸‰,,Linker@2024
lisi@linker.net,æå››,,Linker@2024
wangwu@linker.net,ç‹äº”,å‘˜å·¥,Linker@2024
```

**å­—æ®µè¯´æ˜ï¼š**
- `email`ï¼šé‚®ç®±åœ°å€ï¼ˆå¿…å¡«ï¼‰
- `first_name`ï¼šåå­—ï¼ˆå¿…å¡«ï¼‰
- `last_name`ï¼šå§“æ°ï¼ˆå¯é€‰ï¼Œå¯ç•™ç©ºï¼‰
- `password`ï¼šå¯†ç ï¼ˆå¯é€‰ï¼Œç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤å¯†ç  `Linker@2024`ï¼‰

**å¯†ç è¦æ±‚ï¼š**
- è‡³å°‘ 8 ä½
- åŒ…å«å¤§å°å†™å­—æ¯
- åŒ…å«æ•°å­—æˆ–ç‰¹æ®Šå­—ç¬¦
- ç¤ºä¾‹ï¼š`Linker@2024`ã€`Test@123456`ã€`User2024!`

---

### æ­¥éª¤2ï¼šç¼–è¾‘ CSV æ–‡ä»¶

#### æ–¹æ³• Aï¼šåœ¨æœ¬åœ°ç¼–è¾‘ï¼ˆæ¨èï¼‰

1. **ä¸‹è½½æ¨¡æ¿**
   ```bash
   # åœ¨æ‚¨çš„æœ¬åœ°ç”µè„‘
   scp root@192.168.20.118:/home/services/lms/data/users_template.csv ./
   ```

2. **ç”¨ Excel æ‰“å¼€å¹¶ç¼–è¾‘**
   - æ‰“å¼€ `users_template.csv`
   - æ·»åŠ /ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
   - ä¿å­˜ä¸º CSV æ ¼å¼ï¼ˆUTF-8 ç¼–ç ï¼‰

3. **ä¸Šä¼ å›æœåŠ¡å™¨**
   ```bash
   scp users_template.csv root@192.168.20.118:/home/services/lms/data/
   ```

#### æ–¹æ³• Bï¼šåœ¨æœåŠ¡å™¨ä¸Šç¼–è¾‘

```bash
nano /home/services/lms/data/users_template.csv
```

---

### æ­¥éª¤3ï¼šè¿è¡Œå¯¼å…¥è„šæœ¬

```bash
cd /home/services/lms

docker compose -f docker-compose-prod.yml exec -T lms \
  bench --site 192.168.20.118 console < scripts/batch_create_users.py
```

### æ­¥éª¤4ï¼šæŸ¥çœ‹ç»“æœ

è„šæœ¬ä¼šæ˜¾ç¤ºï¼š
```
============================================================
æ‰¹é‡åˆ›å»ºç”¨æˆ·
============================================================

ä» CSV æ–‡ä»¶è¯»å– 10 ä¸ªç”¨æˆ·

[1/10] å¤„ç†: zhangsan@linker.net
  âœ“ ç”¨æˆ·åˆ›å»º: zhangsan@linker.net (å¼ ä¸‰ )
  âœ“ å·²æ³¨å†Œåˆ°è¯¾ç¨‹

[2/10] å¤„ç†: lisi@linker.net
  âœ“ ç”¨æˆ·åˆ›å»º: lisi@linker.net (æå›› )
  âœ“ å·²æ³¨å†Œåˆ°è¯¾ç¨‹

...

============================================================
âœ… æ‰¹é‡åˆ›å»ºå®Œæˆï¼
============================================================
æˆåŠŸåˆ›å»º: 10 ä¸ªç”¨æˆ·
æ³¨å†Œè¯¾ç¨‹: 10 ä¸ªç”¨æˆ·
å¤±è´¥/è·³è¿‡: 0 ä¸ª
```

---

## ğŸ“‹ æ–¹æ³•2ï¼šç›´æ¥ä¿®æ”¹è„šæœ¬æ·»åŠ ç”¨æˆ·

å¦‚æœç”¨æˆ·æ•°é‡å°‘ï¼ˆ5ä¸ªä»¥å†…ï¼‰ï¼Œå¯ä»¥ç›´æ¥ç¼–è¾‘è„šæœ¬ï¼š

### æ­¥éª¤1ï¼šç¼–è¾‘è„šæœ¬

```bash
nano /home/services/lms/scripts/invite_users.py
```

### æ­¥éª¤2ï¼šä¿®æ”¹ç”¨æˆ·åˆ—è¡¨

æ‰¾åˆ°è¿™éƒ¨åˆ†ä»£ç ï¼š

```python
users = [
    # æ ¼å¼: (email, first_name, last_name)
    # ("student1@example.com", "å­¦å‘˜ä¸€", ""),
    # ("student2@example.com", "å­¦å‘˜äºŒ", ""),
]
```

ä¿®æ”¹ä¸ºï¼š

```python
users = [
    ("zhangsan@linker.net", "å¼ ä¸‰", ""),
    ("lisi@linker.net", "æå››", ""),
    ("wangwu@linker.net", "ç‹äº”", ""),
]
```

### æ­¥éª¤3ï¼šè¿è¡Œè„šæœ¬

```bash
cd /home/services/lms

docker compose -f docker-compose-prod.yml exec -T lms \
  bench --site 192.168.20.118 console < scripts/invite_users.py
```

---

## ğŸ“‹ æ–¹æ³•3ï¼šä½¿ç”¨ Frappe åå°æ•°æ®å¯¼å…¥

### æ­¥éª¤1ï¼šå‡†å¤‡ Excel æ–‡ä»¶

åˆ›å»º Excel æ–‡ä»¶ï¼ŒåŒ…å«ä»¥ä¸‹åˆ—ï¼š

| Email Address | First Name | Last Name | Language | User Type |
|---------------|------------|-----------|----------|-----------|
| user1@linker.net | å¼ ä¸‰ | | zh | Website User |
| user2@linker.net | æå›› | | zh | Website User |

### æ­¥éª¤2ï¼šè®¿é—®æ•°æ®å¯¼å…¥å·¥å…·

```
http://192.168.20.118:8001/app/data-import
```

### æ­¥éª¤3ï¼šé€‰æ‹©å¯¼å…¥ç±»å‹

1. ç‚¹å‡»ã€ŒNew Data Importã€
2. Document Type: é€‰æ‹© `User`
3. Import Type: é€‰æ‹© `Insert New Records`

### æ­¥éª¤4ï¼šä¸Šä¼ æ–‡ä»¶

1. ä¸Šä¼ æ‚¨çš„ Excel/CSV æ–‡ä»¶
2. æ˜ å°„å­—æ®µï¼ˆç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ï¼‰
3. ç‚¹å‡»ã€ŒStart Importã€

### æ­¥éª¤5ï¼šæ‰‹åŠ¨è®¾ç½®å¯†ç 

âš ï¸ æ³¨æ„ï¼šé€šè¿‡æ•°æ®å¯¼å…¥åˆ›å»ºçš„ç”¨æˆ·éœ€è¦æ‰‹åŠ¨è®¾ç½®å¯†ç 

1. è®¿é—®æ¯ä¸ªç”¨æˆ·é¡µé¢
2. åœ¨ã€ŒNew Passwordã€å­—æ®µè®¾ç½®å¯†ç 
3. ä¿å­˜

---

## ğŸ”§ é«˜çº§é…ç½®

### ä¿®æ”¹é»˜è®¤å¯†ç 

ç¼–è¾‘è„šæœ¬ `/home/services/lms/scripts/batch_create_users.py`ï¼š

```python
DEFAULT_PASSWORD = "YourPassword@2024"  # ä¿®æ”¹è¿™é‡Œ
```

### ä¿®æ”¹ç›®æ ‡è¯¾ç¨‹

```python
COURSE_ID = "uf67dh57kl"  # ä¿®æ”¹ä¸ºå…¶ä»–è¯¾ç¨‹ ID
```

### ä¸è‡ªåŠ¨æ³¨å†Œåˆ°è¯¾ç¨‹

```python
COURSE_ID = ""  # ç•™ç©ºï¼Œä¸è‡ªåŠ¨æ³¨å†Œ
```

---

## ğŸ“Š æ‰¹é‡æ“ä½œç¤ºä¾‹

### ç¤ºä¾‹1ï¼šåˆ›å»º 100 ä¸ªå­¦å‘˜

**CSV æ–‡ä»¶ï¼š**
```csv
email,first_name,last_name,password
student001@linker.net,å­¦å‘˜001,,Linker@2024
student002@linker.net,å­¦å‘˜002,,Linker@2024
student003@linker.net,å­¦å‘˜003,,Linker@2024
...
student100@linker.net,å­¦å‘˜100,,Linker@2024
```

### ç¤ºä¾‹2ï¼šä¸åŒéƒ¨é—¨ä½¿ç”¨ä¸åŒå¯†ç 

**CSV æ–‡ä»¶ï¼š**
```csv
email,first_name,last_name,password
sales001@linker.net,é”€å”®001,é”€å”®éƒ¨,Sales@2024
sales002@linker.net,é”€å”®002,é”€å”®éƒ¨,Sales@2024
tech001@linker.net,æŠ€æœ¯001,æŠ€æœ¯éƒ¨,Tech@2024
tech002@linker.net,æŠ€æœ¯002,æŠ€æœ¯éƒ¨,Tech@2024
```

---

## âœ… å¯¼å…¥åéœ€è¦åšçš„äº‹

### 1. å¯¼å‡ºç”¨æˆ·ç™»å½•ä¿¡æ¯

åˆ›å»ºä¸€ä¸ªè¡¨æ ¼å‘ç»™ç”¨æˆ·ï¼š

| å§“å | é‚®ç®± | å¯†ç  | ç™»å½•åœ°å€ |
|------|------|------|----------|
| å¼ ä¸‰ | zhangsan@linker.net | Linker@2024 | http://192.168.20.118:8001/login |
| æå›› | lisi@linker.net | Linker@2024 | http://192.168.20.118:8001/login |

### 2. æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ³¨å†Œåˆ°è¯¾ç¨‹

```
http://192.168.20.118:8001/app/lms-course/uf67dh57kl
```

æŸ¥çœ‹ã€ŒStudentsã€éƒ¨åˆ†

### 3. æé†’ç”¨æˆ·ä¿®æ”¹å¯†ç 

é¦–æ¬¡ç™»å½•åå»ºè®®ç”¨æˆ·ä¿®æ”¹å¯†ç ï¼š
- ç”¨æˆ·ç™»å½•åç‚¹å‡»å³ä¸Šè§’å¤´åƒ
- é€‰æ‹©ã€Œæˆ‘çš„è®¾ç½®ã€æˆ–ã€ŒMy Settingsã€
- ä¿®æ”¹å¯†ç 

---

## âš ï¸ å¸¸è§é—®é¢˜

**Q: CSV æ–‡ä»¶ä¸­æ–‡ä¹±ç ï¼Ÿ**

A: ä¿å­˜ CSV æ—¶é€‰æ‹©ã€ŒUTF-8 ç¼–ç ã€

**Q: å¯†ç ä¸ç¬¦åˆè¦æ±‚ï¼Ÿ**

A: ç¡®ä¿å¯†ç è‡³å°‘8ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—ã€‚ä¾‹å¦‚ï¼š`Linker@2024`

**Q: å¯¼å…¥åç”¨æˆ·ç™»å½•å¤±è´¥ï¼Ÿ**

A: æ£€æŸ¥ï¼š
1. å¯†ç æ˜¯å¦è®¾ç½®æˆåŠŸ
2. ç”¨æˆ·ç±»å‹æ˜¯å¦ä¸º `Website User`
3. ç”¨æˆ·æ˜¯å¦å·²å¯ç”¨ï¼ˆenabled = 1ï¼‰

**Q: å¦‚ä½•é‡æ–°å¯¼å…¥ï¼Ÿ**

A: åˆ é™¤å·²åˆ›å»ºçš„ç”¨æˆ·ï¼Œæˆ–ä¿®æ”¹ CSV ä¸­çš„é‚®ç®±åœ°å€ï¼ˆé‚®ç®±æ˜¯å”¯ä¸€æ ‡è¯†ï¼‰

**Q: å¯ä»¥å¯¼å…¥å‡ ç™¾ä¸ªç”¨æˆ·å—ï¼Ÿ**

A: å¯ä»¥ï¼Œä½†å»ºè®®åˆ†æ‰¹å¯¼å…¥ï¼Œæ¯æ¬¡50-100ä¸ªç”¨æˆ·

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚éœ€å¸®åŠ©ï¼Œå¯ä»¥æŸ¥çœ‹æ—¥å¿—ï¼š

```bash
docker compose -f docker-compose-prod.yml logs lms
```

æˆ–æŸ¥çœ‹é”™è¯¯è¯¦æƒ…ï¼š

```bash
docker compose -f docker-compose-prod.yml exec lms \
  bench --site 192.168.20.118 console
```
