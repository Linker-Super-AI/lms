# Git åˆ†æ”¯ç­–ç•¥

## ğŸ“Š åˆ†æ”¯ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  main (ä¸»åˆ†æ”¯) â­                                        â”‚
â”‚  - ç¨³å®šçš„ç”Ÿäº§ç‰ˆæœ¬                                        â”‚
â”‚  - ç”¨äºç”Ÿäº§ç¯å¢ƒéƒ¨ç½²                                       â”‚
â”‚  - åªæ¥å—æ¥è‡ª custom-dev çš„ç¨³å®šç‰ˆæœ¬åˆå¹¶                   â”‚
â”‚  - GitHub é»˜è®¤åˆ†æ”¯                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–²
                     â”‚ åˆå¹¶ç¨³å®šç‰ˆæœ¬
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  custom-dev (å¼€å‘åˆ†æ”¯)                                   â”‚
â”‚  - ä¸ªæ€§åŒ–äºŒæ¬¡å¼€å‘                                        â”‚
â”‚  - æ—¥å¸¸å¼€å‘å·¥ä½œåœ¨è¿™é‡Œè¿›è¡Œ                                 â”‚
â”‚  - åŠŸèƒ½åˆ†æ”¯åˆå¹¶åˆ°è¿™é‡Œ                                     â”‚
â”‚  - å®šæœŸåˆå¹¶ develop çš„ä¸Šæ¸¸æ›´æ–°                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–²                            â”‚
           â”‚ åˆå¹¶åŠŸèƒ½                   â”‚ åŒæ­¥ä¸Šæ¸¸
           â”‚                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  feature/xxx     â”‚     â”‚  develop (åŒæ­¥åˆ†æ”¯)              â”‚
â”‚  åŠŸèƒ½å¼€å‘åˆ†æ”¯     â”‚     â”‚  - è·Ÿè¸ª Frappe å®˜æ–¹ä»“åº“          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  - åªç”¨äºåŒæ­¥ä¸Šæ¸¸æ›´æ–°            â”‚
                         â”‚  - ä¸åœ¨è¿™é‡Œç›´æ¥å¼€å‘              â”‚
                         â”‚  - git pull origin develop       â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ åˆ†æ”¯è¯´æ˜

### 1. main åˆ†æ”¯ â­

**ç”¨é€”ï¼š** ç¨³å®šçš„ç”Ÿäº§ç‰ˆæœ¬

**ç‰¹ç‚¹ï¼š**
- âœ… ä»£ç ç»è¿‡æµ‹è¯•ï¼Œç¨³å®šå¯é 
- âœ… ç”¨äºç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- âœ… GitHub çš„é»˜è®¤åˆ†æ”¯
- âœ… ä¿æŒå¹²å‡€çš„æäº¤å†å²

**æ“ä½œè§„åˆ™ï¼š**
- âŒ ä¸ç›´æ¥åœ¨ main æäº¤
- âœ… åªæ¥å—æ¥è‡ª custom-dev çš„åˆå¹¶
- âœ… åˆå¹¶å‰éœ€è¦æµ‹è¯•

**ä½•æ—¶æ›´æ–°ï¼š**
- custom-dev å®Œæˆä¸€ä¸ªç¨³å®šç‰ˆæœ¬
- å®Œæˆé‡è¦åŠŸèƒ½å¼€å‘
- å‡†å¤‡å‘å¸ƒæ–°ç‰ˆæœ¬

### 2. custom-dev åˆ†æ”¯

**ç”¨é€”ï¼š** ä¸ªæ€§åŒ–äºŒæ¬¡å¼€å‘çš„ä¸»åˆ†æ”¯

**ç‰¹ç‚¹ï¼š**
- âœ… æ—¥å¸¸å¼€å‘å·¥ä½œåœ¨è¿™é‡Œ
- âœ… å¯ä»¥æœ‰æœªå®Œæˆçš„åŠŸèƒ½
- âœ… å®šæœŸåˆå¹¶åˆ° main
- âœ… å®šæœŸåŒæ­¥ develop çš„æ›´æ–°

**æ“ä½œè§„åˆ™ï¼š**
- âœ… å¯ä»¥ç›´æ¥æäº¤å°æ”¹åŠ¨
- âœ… å¤§åŠŸèƒ½åœ¨åŠŸèƒ½åˆ†æ”¯å¼€å‘
- âœ… åˆå¹¶åŠŸèƒ½åˆ†æ”¯ååˆ é™¤
- âœ… å®šæœŸåŒæ­¥ä¸Šæ¸¸æ›´æ–°

**ä½•æ—¶æ›´æ–°ï¼š**
- æ¯å¤©çš„å¼€å‘å·¥ä½œ
- åŠŸèƒ½åˆ†æ”¯å®Œæˆååˆå¹¶
- åŒæ­¥ä¸Šæ¸¸æ›´æ–°å

### 3. develop åˆ†æ”¯

**ç”¨é€”ï¼š** è·Ÿè¸ª Frappe å®˜æ–¹ä»“åº“

**ç‰¹ç‚¹ï¼š**
- âœ… ä¿æŒä¸å®˜æ–¹åŒæ­¥
- âœ… ä¸ä¿®æ”¹è¿™ä¸ªåˆ†æ”¯
- âœ… åªç”¨äºåŒæ­¥å’Œåˆå¹¶

**æ“ä½œè§„åˆ™ï¼š**
- âŒ ä¸åœ¨è¿™é‡Œå¼€å‘
- âŒ ä¸æäº¤åˆ°è¿™é‡Œ
- âœ… å®šæœŸæ‹‰å–å®˜æ–¹æ›´æ–°
- âœ… åˆå¹¶åˆ° custom-dev

**ä½•æ—¶æ›´æ–°ï¼š**
- æ¯å‘¨æˆ–æ¯æœˆåŒæ­¥ä¸€æ¬¡
- å®˜æ–¹æœ‰é‡è¦æ›´æ–°æ—¶
- éœ€è¦æ–°åŠŸèƒ½æ—¶

---

## ğŸ”„ å·¥ä½œæµç¨‹

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. ç¡®ä¿åœ¨ custom-dev åˆ†æ”¯
git checkout custom-dev

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/new-feature

# 3. å¼€å‘åŠŸèƒ½
# ... ç¼–è¾‘ä»£ç  ...

# 4. æäº¤ä¿®æ”¹
git add .
git commit -m "feat: æ–°åŠŸèƒ½"

# 5. åˆ‡å› custom-dev
git checkout custom-dev

# 6. åˆå¹¶åŠŸèƒ½åˆ†æ”¯
git merge feature/new-feature

# 7. åˆ é™¤åŠŸèƒ½åˆ†æ”¯ï¼ˆå¯é€‰ï¼‰
git branch -d feature/new-feature

# 8. æ¨é€åˆ° GitHub
git push myfork custom-dev
```

### å‘å¸ƒç¨³å®šç‰ˆæœ¬

```bash
# 1. ç¡®ä¿ custom-dev ç¨³å®šä¸”æµ‹è¯•é€šè¿‡
git checkout custom-dev

# 2. åˆ‡æ¢åˆ° main åˆ†æ”¯
git checkout main

# 3. åˆå¹¶ custom-dev
git merge custom-dev

# 4. æ‰“æ ‡ç­¾ï¼ˆç‰ˆæœ¬å·ï¼‰
git tag -a v1.0.0 -m "Release version 1.0.0"

# 5. æ¨é€åˆ° GitHub
git push myfork main
git push myfork v1.0.0
```

### åŒæ­¥ä¸Šæ¸¸æ›´æ–°

```bash
# 1. åˆ‡æ¢åˆ° develop åˆ†æ”¯
git checkout develop

# 2. æ‹‰å–å®˜æ–¹æœ€æ–°ä»£ç 
git pull origin develop

# 3. åˆ‡æ¢åˆ° custom-dev
git checkout custom-dev

# 4. åˆå¹¶ developï¼ˆå¯èƒ½æœ‰å†²çªéœ€è¦è§£å†³ï¼‰
git merge develop

# 5. è§£å†³å†²çªï¼ˆå¦‚æœæœ‰ï¼‰
# ... ç¼–è¾‘å†²çªæ–‡ä»¶ ...
git add .
git commit -m "merge: åŒæ­¥ä¸Šæ¸¸æ›´æ–°"

# 6. æ¨é€åˆ° GitHub
git push myfork custom-dev
```

---

## ğŸ“‹ åˆ†æ”¯å‘½åè§„èŒƒ

### åŠŸèƒ½åˆ†æ”¯

```bash
feature/åŠŸèƒ½åç§°       # æ–°åŠŸèƒ½å¼€å‘
feature/exam-system   # è€ƒè¯•ç³»ç»Ÿ
feature/video-upload  # è§†é¢‘ä¸Šä¼ 
```

### ä¿®å¤åˆ†æ”¯

```bash
fix/é—®é¢˜æè¿°           # Bug ä¿®å¤
fix/login-error       # ç™»å½•é”™è¯¯ä¿®å¤
fix/image-display     # å›¾ç‰‡æ˜¾ç¤ºé—®é¢˜
```

### ç´§æ€¥ä¿®å¤åˆ†æ”¯

```bash
hotfix/ç´§æ€¥é—®é¢˜        # ç´§æ€¥ä¿®å¤ï¼ˆç›´æ¥ä» main åˆ›å»ºï¼‰
hotfix/security-patch # å®‰å…¨è¡¥ä¸
hotfix/data-loss      # æ•°æ®ä¸¢å¤±é—®é¢˜
```

### å‘å¸ƒåˆ†æ”¯

```bash
release/ç‰ˆæœ¬å·         # å‡†å¤‡å‘å¸ƒ
release/v1.0.0        # 1.0.0 ç‰ˆæœ¬å‘å¸ƒ
release/v2.0.0-beta   # 2.0.0 æµ‹è¯•ç‰ˆ
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1ï¼šå¼€å‘æ–°åŠŸèƒ½

```bash
# ä» custom-dev åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout custom-dev
git checkout -b feature/exam-system

# å¼€å‘...
git add .
git commit -m "feat: æ·»åŠ è€ƒè¯•ç³»ç»Ÿ"

# åˆå¹¶åˆ° custom-dev
git checkout custom-dev
git merge feature/exam-system
git push myfork custom-dev
```

### åœºæ™¯2ï¼šä¿®å¤ Bug

```bash
# ä» custom-dev åˆ›å»ºä¿®å¤åˆ†æ”¯
git checkout custom-dev
git checkout -b fix/login-bug

# ä¿®å¤...
git add .
git commit -m "fix: ä¿®å¤ç™»å½•é—®é¢˜"

# åˆå¹¶åˆ° custom-dev
git checkout custom-dev
git merge fix/login-bug
git push myfork custom-dev
```

### åœºæ™¯3ï¼šç´§æ€¥ä¿®å¤ç”Ÿäº§é—®é¢˜

```bash
# ä» main åˆ›å»ºç´§æ€¥ä¿®å¤åˆ†æ”¯
git checkout main
git checkout -b hotfix/critical-bug

# ä¿®å¤...
git add .
git commit -m "hotfix: ä¿®å¤ä¸¥é‡ bug"

# åˆå¹¶åˆ° main
git checkout main
git merge hotfix/critical-bug
git push myfork main

# ä¹Ÿåˆå¹¶åˆ° custom-dev
git checkout custom-dev
git merge hotfix/critical-bug
git push myfork custom-dev
```

### åœºæ™¯4ï¼šåŒæ­¥å®˜æ–¹æ›´æ–°

```bash
# å®šæœŸåŒæ­¥ï¼ˆæ¯å‘¨æˆ–æ¯æœˆï¼‰
git checkout develop
git pull origin develop

git checkout custom-dev
git merge develop

# è§£å†³å†²çªï¼ˆå¦‚æœæœ‰ï¼‰
# ... ç¼–è¾‘å†²çªæ–‡ä»¶ ...
git add .
git commit -m "merge: åŒæ­¥ Frappe å®˜æ–¹æ›´æ–°"

git push myfork custom-dev
```

### åœºæ™¯5ï¼šå‘å¸ƒæ–°ç‰ˆæœ¬

```bash
# custom-dev å¼€å‘å®Œæˆï¼Œå‡†å¤‡å‘å¸ƒ
git checkout custom-dev

# ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
# è¿è¡Œæµ‹è¯•...

# åˆå¹¶åˆ° main
git checkout main
git merge custom-dev

# æ‰“ç‰ˆæœ¬æ ‡ç­¾
git tag -a v1.0.0 -m "Release version 1.0.0

- æ‰¹é‡ç”¨æˆ·ç®¡ç†
- è¯¾ç¨‹ Markdown å¯¼å…¥
- é˜²å¤åˆ¶ä¿æŠ¤
- å®Œæ•´ä¸­æ–‡åŒ–
"

# æ¨é€
git push myfork main
git push myfork v1.0.0
```

---

## ğŸŒ åœ¨ä¸åŒæœåŠ¡å™¨éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒï¼ˆä½¿ç”¨ main åˆ†æ”¯ï¼‰

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Linker-Super-AI/lms.git
cd lms

# ä½¿ç”¨ main åˆ†æ”¯ï¼ˆé»˜è®¤ï¼‰
git checkout main

# æˆ–ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬
git checkout v1.0.0

# éƒ¨ç½²
docker compose -f docker-compose-prod.yml up -d
```

### å¼€å‘/æµ‹è¯•ç¯å¢ƒï¼ˆä½¿ç”¨ custom-dev åˆ†æ”¯ï¼‰

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Linker-Super-AI/lms.git
cd lms

# ä½¿ç”¨å¼€å‘åˆ†æ”¯
git checkout custom-dev

# éƒ¨ç½²
docker compose -f docker-compose-prod.yml up -d
```

---

## ğŸ“Š åˆ†æ”¯å¯¹æ¯”

| åˆ†æ”¯ | ç¨³å®šæ€§ | æ›´æ–°é¢‘ç‡ | ç”¨é€” | éƒ¨ç½²ç¯å¢ƒ |
|------|--------|----------|------|----------|
| **main** | â­â­â­â­â­ | ä½ï¼ˆç¨³å®šç‰ˆæœ¬ï¼‰ | ç”Ÿäº§éƒ¨ç½² | ç”Ÿäº§ç¯å¢ƒ |
| **custom-dev** | â­â­â­â­ | é«˜ï¼ˆæ¯å¤©ï¼‰ | æ—¥å¸¸å¼€å‘ | å¼€å‘/æµ‹è¯•ç¯å¢ƒ |
| **develop** | â­â­â­ | ä¸­ï¼ˆå®šæœŸåŒæ­¥ï¼‰ | åŒæ­¥ä¸Šæ¸¸ | ä¸éƒ¨ç½² |
| **feature/xxx** | â­â­ | é«˜ï¼ˆå¼€å‘ä¸­ï¼‰ | åŠŸèƒ½å¼€å‘ | æœ¬åœ°æµ‹è¯• |

---

## âœ… æœ€ä½³å®è·µ

### æäº¤è§„èŒƒ

```bash
# ä½¿ç”¨è¯­ä¹‰åŒ–æäº¤ä¿¡æ¯
feat: æ–°åŠŸèƒ½
fix: Bug ä¿®å¤
docs: æ–‡æ¡£æ›´æ–°
refactor: é‡æ„
perf: æ€§èƒ½ä¼˜åŒ–
test: æµ‹è¯•
chore: é…ç½®ä¿®æ”¹
```

### åˆå¹¶ç­–ç•¥

```bash
# åŠŸèƒ½åˆ†æ”¯ â†’ custom-devï¼šä½¿ç”¨ merge
git merge feature/xxx

# custom-dev â†’ mainï¼šä½¿ç”¨ mergeï¼ˆä¿ç•™æäº¤å†å²ï¼‰
git merge custom-dev

# develop â†’ custom-devï¼šä½¿ç”¨ mergeï¼ˆä¿ç•™ä¸Šæ¸¸å†å²ï¼‰
git merge develop
```

### ç‰ˆæœ¬æ ‡ç­¾

```bash
# ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.è¡¥ä¸ç‰ˆæœ¬
v1.0.0  # ç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬
v1.1.0  # æ–°å¢åŠŸèƒ½
v1.1.1  # Bug ä¿®å¤
v2.0.0  # é‡å¤§æ›´æ–°
```

### åˆ†æ”¯ä¿æŠ¤

**åœ¨ GitHub ä¸Šè®¾ç½®ï¼š**
- main åˆ†æ”¯ï¼š
  - âœ… ç¦æ­¢å¼ºåˆ¶æ¨é€
  - âœ… ç¦æ­¢åˆ é™¤
  - âœ… è¦æ±‚ Pull Request å®¡æŸ¥

---

## ğŸ” å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch -a

# æŸ¥çœ‹å½“å‰åˆ†æ”¯
git branch

# åˆ‡æ¢åˆ†æ”¯
git checkout <branch-name>

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯
git checkout -b <branch-name>

# åˆå¹¶åˆ†æ”¯
git merge <branch-name>

# åˆ é™¤åˆ†æ”¯
git branch -d <branch-name>

# æ¨é€åˆ†æ”¯
git push myfork <branch-name>

# æ‹‰å–æ›´æ–°
git pull myfork <branch-name>

# æŸ¥çœ‹åˆ†æ”¯å·®å¼‚
git diff main..custom-dev

# æŸ¥çœ‹æäº¤å†å²
git log --oneline --graph --all
```

---

## ğŸ“ ç›¸å…³èµ„æº

- **Git åˆ†æ”¯ç®¡ç†ï¼š** https://git-scm.com/book/zh/v2/Git-åˆ†æ”¯-åˆ†æ”¯ç®¡ç†
- **Git Flowï¼š** https://nvie.com/posts/a-successful-git-branching-model/
- **è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼š** https://semver.org/lang/zh-CN/

---

**éµå¾ªè¿™ä¸ªåˆ†æ”¯ç­–ç•¥ï¼Œä½ çš„ä»£ç ç®¡ç†å°†æ›´åŠ è§„èŒƒå’Œé«˜æ•ˆï¼** ğŸš€
